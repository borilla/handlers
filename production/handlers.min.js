var Handlers=function(){function r(r,n,e){return t(r,n).after(e)}function n(r,n,e){return t(r,n).before(e)}function t(r,n){var t=r[n];if(t.after)return t;var u=[],f=[],o=function(){f.length&&e(f);var r=t.apply(this,arguments);u.length&&e(u,r)};return o.after=function(r){return u.push(r),o},o.before=function(r){return f.push(r),o},o.restore=function(){return r[n]=t},r[n]=o}function e(r,n){for(var t=0,e=r.length;e>t;++t)r[t](n)}return{after:r,before:n}}();